{#-*- engine:django -*-#}
{% extends "mathrix/front.html" %}

{% block inputblock %}

	<div class= "row vertical-flex-container greenborder">
		<hr>
		<form action="/mathrix/{{ page }}" method="post">
			
			{% if q == 'evaluate' %}
				Expression to be evaluated {{ exp }}
			{% endif %}
	
			<div class="matrix-input vertical-flex-container greenborder">
				{% for A in matrices %}       <!-- All Entered Matrices -->
					{% set p = loop %}
					<div class="new-matrix">
						<table class="greenborder custom-table">
    							{% for i in A %}
    								{% set row = loop %}
    								<tr>
    									{% for j in i %}
    										<td>
    											<input class="matrix-cell" type="text" name="A[{{ p.index0 }}][{{ row.index0 }}][{{ loop.index0 }}]" placeholder="a{{ row.index0 }}{{ loop.index0 }}" value={% if j != '' and j.is_integer() %}"{{ j|int }}"{% else %}"{{ j }}"{% endif %}>
    										</td>
    									{% endfor %}
    								</tr>
    							{% endfor %}
						</table>
					</div> <!-- new-matrix -->
				{% endfor %}
			</div> <!-- matrix-input -->
			<div class="error">
				{{ error }}
			</div>
			{% if q in detailed %}
				<div class="detail">
					<input type="checkbox" name="detail"> Show Detailed Solution
				</div>
			{% endif %}
			<div class="submit flex-container greenborder">
				<input type="submit" value="Calculate">
			</div>
			{% for p in range(num if q in ['mult', 'evaluate'] or num else 1) %}
				<input type="hidden" name="r{{ p }}" value="{{ dim[p][0] }}">
				{% if q not in square %}<input type="hidden" name="c{{ p }}" value="{{ dim[p][1] }}">{% endif %}
			{% endfor %}
			<input type="hidden" name="num" value="{{ num }}">
			<input type="hidden" name="q" value="{{ q }}">
		</form>
	</div> 

{% endblock %}

